<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials/head :: head('User Profile')">
    <link rel = "stylesheet"
          href = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css" />
</head>
<body>

<style>
    div.col.s4.card-panel.hoverable{
        width: 18%;
    }
    div.row{
        position:relative;
    }
</style>
<nav th:replace="partials/navbar :: nav"></nav>

<!--Need to verify ADMIN-->
<!--<div sec:authorize="isAuthenticated()">-->
<!--<h1>Welcome, <span th:text="${#authentication.principal. ?? }"></span></h1>-->
<h1>Welcome, <span th:text="${users.username}"></span></h1>


<div class="container" style="position: absolute; margin-left: 5%; width:92%">


    <div class="row">

        <!--        profile picture of Admin-->

        <div class="col s4 card-panel hoverable" style="border: 2px solid black; margin-top: 0; height: auto;">
            <span class="flow-text">Picture will go here</span></div>

        <!--        table of users-->

        <div class="col s8" style=" border: 2px solid black;">
            <div class="row">
                <div class="col s-6" th:text="${users.id}">ID: </div>
                <div class="col s-6" th:text="${users.DOB}">DOB: </div>
                <div class="col s-6" th:text="${users.gender}">Gender: </div>
                <div class="col s-6" th:text="${users.points}">Points: </div>
                <div class="col s-6" th:text="${users.getLeague().name}">League: </div>
            </div>
        </div>
    </div>
                <!--*****************-->
                <!--                Bottom Nav Card Below              -->
                <!--*****************-->

<div class="container">
        <div class="card" style="position: inherit;">
            <div class="card-tabs" style="height: 20px;">
                <ul class="tabs tabs-fixed-width">
                    <li class="tab"><a class="active" href="#Indiv">Individual</a></li>
                    <li class="tab"><a href="#OvA">Overall</a></li>
                    <li class="tab"><a href="#Mach">Machine</a></li>
                </ul>
            </div>

            <!-- displays individual -->
            <div class="card-content grey lighten-4">
                <div id="Indiv">
                    <h5>Individual</h5>
                    <table class="responsive-table centered highlight">
                        <thead>
                        <tr>
                            <th>Machine Name</th>
                            <th>Date Played</th>
                            <th>Score</th>
                        </tr>
                        </thead>
                        <tbody>
                        <th:block th:each="score : ${scores}">
                            <tr>
                                <td th:text="${score.getMachine().name}"></td>
                                <td th:text="${score.date}"></td>
                                <td th:text="${score.score}"></td>
                            </tr>
                        </th:block>
                        </tbody>
                    </table>
                </div>
<!--                                  -->

                <!-- displays overall and machines used -->
                <!-- combined OvA and Mach. removed the id from Mach to use -->
                <div id="OvA">
                    <h5>Overall</h5>
                    stuffing
                   <table class="responsive-table centered highlight">
                       <thead>
                        <tr>
                            <th>Machine Name</th>
                            <th>Date Played</th>
                            <th>Score</th>
                        </tr>
                        </thead>
                        <tbody>
                        <th:block th:each="score1 : ${scores}">
                            <tr>
                                <td th:text="${score1.getMachine().name}"></td>
                                <td th:text="${score1.date}"></td>
                                <td th:text="${score1.score}"></td>
                            </tr>
                        </th:block>
                        </tbody>
                    </table>
                </div>
                <!-- displays machines used -->
                <div id="Mach"> <!--Deleted Machine-->
                <h5>Machines</h5>
                Stuff
                <table class="responsive-table centered highlight">
                    <thead>
                    <tr>
                        <th>Machine Name</th>
                        <th>Score</th>
                    </tr>
                    </thead>
                    <tbody>
                    <th:block th:each="machinetop : ${machines1}">
                        <tr>
                            <td th:text="${machinetop.name}"></td>
                            <td th:text="${machinetop.getScores()}"></td>
                        </tr>
                    </th:block>
                    </tbody>
                </table>
                </div>
            </div>
        </div>
    </div>
</div>


<!--             Adding this vvv fixes the tabs-->
<script type = "text/javascript"
        src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src = "https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js">
</script>
<!--             Adding this ^^^^ fixes the tabs-->


<th:block th:include="partials/footer :: scripts" />
</body>
</html>